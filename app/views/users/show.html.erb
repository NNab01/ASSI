<script>
 function goBack() {
        history.back();
      } 
</script>
<% if session[:approve_premium_url]!=nil %>
  <p>Sto reindirizzando a <%= session[:approve_premium_url] %>...</p>
  <script>
    window.location.href = '<%= session[:approve_premium_url] %>'; // Reindirizza l'utente all'URL di approvazione
  </script>
<%else%>
<head>
  <style>
   body{
    height:100vh;

  }
  .custom-text {
  font-size: 20px; /* Puoi cambiare questo valore alla dimensione desiderata */
  color: white;
}
  .show-myCard{
    
    background-color: rgb(0,0,0);
     width: calc(800px + 22 * ((100vw - 500px) / (500*7)));
    height: calc(400px + 110 * ((100vw - 500px) / (500*2)));
     transform: translateY(-50px);
     display: flex;
justify-content: center;
align-items: center;
     }
  .custom-label {
    color: rgb(156, 131, 185);
    font-family: "Exo 2", sans-serif;
    font-size:100;
  }
  </style>
</head>
<body>
<header class="show-header">
<%= image_tag("logo.png",class: "img-responsive")%>
<a href="#" class="back" onclick="goBack()">

  <svg height="16" width="16" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024">
  <path d="M874.690416 495.52477c0 11.2973-9.168824 20.466124-20.466124 20.466124l-604.773963 0
   188.083679 188.083679c7.992021 7.992021 7.992021 20.947078 0 28.939099-4.001127 3.990894-9.240455 
   5.996574-14.46955 5.996574-5.239328 0-10.478655-1.995447-14.479783-5.996574l-223.00912-223.00912c-3.837398-3.837398-5.996574-9.046027-5.996574-14.46955 0-5.433756 2.159176-10.632151 5.996574-14.46955l223.019353-223.029586c7.992021-7.992021 20.957311-7.992021
    28.949332 0 7.992021 8.002254 7.992021 20.957311 0 28.949332l-188.073446 188.073446 604.753497 0C865.521592 475.058646 
    874.690416 484.217237 874.690416 495.52477z"></path></svg>
  Back</a>
</header> 
<div class="form-container show-container">
      <div class="show-myCard">
<label for="username" class="custom-label" style="font-size: 25px !important;">Username:</label>
<span class="custom-text" id="username"><%= @user.username %></span>
<br>
<label for="ruolo" class="custom-label"  style="font-size: 25px !important;" >Ruolo:</label>
<span class="custom-text" id="ruolo"><%= @user.role %></span>
<br>
<label for="email" class="custom-label"  style="font-size: 25px !important;">Email:</label>
<span class="custom-text" id="email"><%= @user.email %></span>
<br>

<% if  params[:id].to_i== current_user.id%>
<p><%= link_to "Gestisci account", edit_user_registration_path %> </p>
<p> <%= link_to 'Logout', destroy_user_session_path, method: :delete %> </p>
<br>
<%end%>
 </div>

<% if Presale.where(user_id: params[:id]).any?%>
<%= link_to "Eventi Acquistati", events_path(user_id: params[:id],commit: "presale") %><br>
<%end%>
  <% if can?(:create, Event)%>
<% if params[:id].to_i == current_user.id%>
<% if Event.where(organizer_id: params[:id], status: "draft").any?%>
<p><%= link_to "Bozze", events_path(status: "draft")%></p>
<%end%>
<%end%>
<%end%>
<%if params[:id].to_i == current_user.id%>
<% if can?(:create_order,User) && !can?(:manage,:all)%>  <!-- possono vedere il bottone per acquistare la versione premium solo gli utenti semplici che possiedono il profilo -->
<%= link_to "Acquista versione premium", premium_path(user_id: current_user.id)%>
<%end%>
<%end%>
<% if can?(:ban,User) %>
 <% if  params[:id].to_i!= current_user.id%>
 <% if User.find(params[:id]).role == "organizer"%>
   <%= link_to "Revoca privilegi",edit_user_path(commit: "Revoca",id: params[:id].to_i)%>
   <%end%>
    <% if Ban.where(user_id: params[:id]).exists?%>
    <%= link_to "Sbanna Utente",user_ban_path(user_id: params[:id],id: Ban.find_by(user_id: params[:id]).id),method: :delete %>
    <%else%>
    <%= link_to "Banna Utente",new_user_ban_path(user_id: params[:id]),method: :get %>
    <%end%>
  <%end%>
<%end%>
<br>
<% if Event.where(status: "published",organizer_id: params[:id]).any?%>
<%= link_to "Eventi Organizzati", events_path(commit: "organized",organizer_id: params[:id] )%>
<%end%>
<nav class="navbar fixed-bottom navbar-light d-flex justify-content-center align-items-center">

  <!-- Icona "Home" -->
 
<nav class="navbar navbar-inferiore fixed-bottom navbar-light d-flex justify-content-center align-items-center">

  <!-- Icona "Home" -->
  <ul><li><%= link_to events_path do %>
    <i class="fas fa-home fa-2x" ></i>
<% end %></li>

  <!-- Icona "Aggiungi" -->
  <% if can?(:create, Event)%>
  <li>
  <%= link_to new_event_path do %>
    <i class="fas fa-plus fa-2x"></i>
<% end %></li>
<%end%>
<!-- Icona "Salva" -->
<li>
<%= link_to user_saves_path(user_id: current_user.id),data: { turbo: false } do %> <!-- ho messo data per disabilitare le proprietÃ  di turbolink e ricaricare la pagina -->
    <i class="fas fa-heart fa-2x"></i>
  
  <%end%></li>
 <!-- Icona "Utente" -->
 <li>
<%= link_to user_path(current_user) do %>
    <i class="fas fa-user fa-2x" ></i>
<% end %> </li>
</ul>
</nav>
<%end%>
